<main>
  <app-content-header
    title="Pessoa"
    btn_label="Novo"
    fontIcon="add"
    (onClick)="handleOpenForm()"
  />

  <app-table
    (selectedPerson)="handleSelectedPerson($event)"
    [dataSource]="dataSource"
  />

  @if (openForm()) {
    <app-drawer (closeForm)="handleOpenForm()">
      <mat-tab-group>
        <mat-tab label="Pessoa Física">
          <app-create-natural-person-form [dataForm]="selectedPerson?.person?.cpf ? selectedPerson : null" />
        </mat-tab>
        <mat-tab label="Pessoa Jurídica">
          <app-create-legal-entity-form [dataForm]="selectedPerson?.person?.cnpj ? selectedPerson : null" />
        </mat-tab>
      </mat-tab-group>
    </app-drawer>
  }
</main>
