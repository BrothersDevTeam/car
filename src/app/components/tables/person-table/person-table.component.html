<div class="mat-elevation-z8 table-container">
  <table
    mat-table
    [dataSource]="dataSource"
  >
    <ng-container matColumnDef="name">
      <th
        mat-header-cell
        *matHeaderCellDef
      >
        Name
      </th>
      <td
        mat-cell
        *matCellDef="let element"
        class="nowrap"
      >
        {{ element.name }}
        <!-- {{
          element.fullName
            ? element.fullName
            : element.legalName
        }} -->
      </td>
    </ng-container>

    <ng-container matColumnDef="active">
      <th
        mat-header-cell
        *matHeaderCellDef
      >
        Ativo
      </th>
      <td
        mat-cell
        *matCellDef="let element"
      >
        {{ element.active ? 'Sim' : 'Não' }}
      </td>
    </ng-container>

    <ng-container matColumnDef="cpf">
      <th
        mat-header-cell
        *matHeaderCellDef
      >
        Pessoa Jurídica
      </th>
      <td
        mat-cell
        *matCellDef="let element"
      >
        {{ element.cpf ? 'Não' : 'Sim' }}
      </td>
    </ng-container>

    <ng-container matColumnDef="cnpj">
      <th
        mat-header-cell
        *matHeaderCellDef
      >
        CPF / CNPJ
      </th>
      <td
        mat-cell
        *matCellDef="let element"
      >
        {{ element.cpf ? element.cpf : element.cnpj }}
      </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th
        mat-header-cell
        *matHeaderCellDef
      >
        Ações
      </th>
      <td
        mat-cell
        *matCellDef="let element"
      >
        <button
          mat-icon-button
          color="warn"
          (click)="onDeleteClick($event, element)"
          aria-label="Excluir pessoa"
          title="Excluir"
        >
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr
      mat-header-row
      *matHeaderRowDef="displayedColumns"
    ></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayedColumns; let i = index"
      (click)="onRowClick(row)"
      class="row-clickable"
      [class.even-row]="i % 2 === 0"
      [class.odd-row]="i % 2 !== 0"
    ></tr>
  </table>
  <app-pagination
    [totalElement]="personPaginatedList.page.totalElements"
    [pageSizeOptions]="pageSizeOptions"
    (pageEvent)="handlePageEvent($event)"
  />
</div>
