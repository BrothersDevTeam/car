<form [formGroup]="form">
  @if(dataForm?.licensePlate) {
  <div class="title-trash">
    <h2>Veículo placa: {{ dataForm!.licensePlate }}</h2>
    <mat-icon class="delete-btn" matListItemIcon (click)="onDelete()"
      >delete</mat-icon
    >
  </div>
  }
  <app-wrapper-card>
    <app-primary-input
      formControlName="licensePlate"
      label="Placa*"
      inputName="licensePlate"
      type="text"
      mask="AAA-AAAA"
      [error]="
        form.get('licensePlate')?.invalid &&
        (form.get('licensePlate')?.touched || submitted)
      "
    />
    <div class="custom-selects-container">
      <app-custom-select
        listType="brandDto"
        [label]="'Marca'"
        [options]="brands"
        [control]="brandControl"
        matTooltip="Adicionar nova marca"
        placeholder="Selecione uma marca"
      ></app-custom-select>

      <app-custom-select
        listType="modelDto"
        label="Modelo"
        [selectedBrand]="brandControl.value"
        [options]="models"
        [control]="modelControl"
        [placeholder]="
          selectModelDisabled() ? 'Selecione uma marca' : 'Selecione um modelo'
        "
        matTooltip="Adicionar novo modelo"
        [disabled]="selectModelDisabled()"
      ></app-custom-select>
      <div
        *ngIf="form.errors?.['modelRequired'] && submitted"
        class="error-message"
      >
        Campo obrigadório.
      </div>
    </div>
    <div class="custom-selects-container">
      <app-custom-select
        listType="colorDto"
        [label]="'Cor'"
        [options]="colors"
        [control]="colorControl"
        placeholder="Selecione uma cor"
        matTooltip="Adicionar nova cor"
      ></app-custom-select>

      <app-custom-select
        listType="fuelTypeDto"
        [label]="'Combustível'"
        [options]="fuelTypes"
        [control]="fuelTypeControl"
        placeholder="Selecione um combustível"
        matTooltip="Adicionar novo tipo de combustível"
      ></app-custom-select>
    </div>

    <app-primary-input
      formControlName="yearModel"
      label="Ano/Modelo"
      inputName="yearModel"
      type="text"
      placeholder="0000/0000"
      mask="0000/0000"
    />
    <app-primary-input
      formControlName="chassis"
      label="Chassi"
      inputName="chassis"
      type="text"
      placeholder="Insira os 17 caracteres do chassi"
      mask="AAAAAAAAAAAAAAAAA"
    />
    <app-primary-input
      formControlName="numberOfDoors"
      label="Número de portas"
      inputName="numberOfDoors"
      type="text"
    />
    <app-primary-input
      formControlName="horsepower"
      label="Potência"
      inputName="horsepower"
      type="text"
    />
    <app-primary-input
      formControlName="engineNumber"
      label="Número do motor"
      inputName="engineNumber"
      type="text"
      placeholder="Digite o Número do Motor"
      mask="AAAAAAAAAAAAAAAAAAAA"
    />
    <app-primary-input
      formControlName="initialMileage"
      label="KM inicial"
      inputName="initialMileage"
      type="text"
    />
    <app-primary-input
      formControlName="renavam"
      label="Renavam"
      inputName="renavam"
      type="text"
    />
    <app-primary-input
      formControlName="species"
      label="Espécie"
      inputName="species"
      type="text"
    />
    <app-primary-input
      formControlName="category"
      label="Categoria"
      inputName="category"
      type="text"
    />
    <app-primary-input
      formControlName="age"
      label="Idade"
      inputName="age"
      type="text"
    />
    <app-primary-input
      formControlName="features"
      label="Características"
      inputName="features"
      type="text"
    />

    <app-primary-input
      formControlName="origin"
      label="Origem"
      inputName="origin"
      type="text"
    />
  </app-wrapper-card>

  <button
    mat-raised-button
    type="button"
    class="submit-btn"
    (click)="onSubmit()"
  >
    {{ dataForm?.licensePlate ? "Editar" : "Enviar" }}
  </button>
</form>
